setwd("C:\\Users\\rakes_000\\exploratory_data_analysis")
source("Summary_Script.R")
png("plot4.png",width=480,height=480,units="px")
SCC_coal_list <- subset(SCC$SCC, grepl("Coal",SCC$Short.Name, ignore.case = TRUE))
coal_emissions <- subset(NEI, SCC %in% SCC_coal_list)
coal_emission_total <- tapply(coal_emissions$Emissions, coal_emissions$year, sum)
barplot(names.arg=names(coal_emission_total), height=coal_emission_total, xlab="Year", ylab="Total Emission (in Tons)", main=expression('Total Coal Related PM'[2.5]*' emissions at various years'))
dev.off()
dev.cur()
dev.list()
dev.off
dev.off()
png("plot5.png",width=480,height=480,units="px")
baltimore_motor <- subset(NEI, type == "ON-ROAD" & fips == "24510")
barplot(names.arg=names(baltimore_motor_emissions_total),height=baltimore_motor_emissions_total,xlab="Year", ylab="Total Emissions (in Tons)",main=expression('Total PM'[2.5]*' motor vehicle emissions at various years for Baltimore City'))
dev.off()
png("plot5.png",width=480,height=480,units="px")
baltimore_motor <- subset(NEI, type == "ON-ROAD" & fips == "24510")
baltimore_motor_emissions_total <- tapply(baltimore_motor$Emissions, baltimore_motor$year, sum)
barplot(names.arg=names(baltimore_motor_emissions_total),height=baltimore_motor_emissions_total,xlab="Year", ylab="Total Emissions (in Tons)",main=expression('Total PM'[2.5]*' motor vehicle emissions at various years for Baltimore City'))
dev.off()
png("plot6.png",width=480,height=480,units="px")
LA_county_motor <- subset(NEI, type=="ON-ROAD" & fips == "06037")
LA_county_motor_emissions_total <- tapply(LA_county_motor$Emissions, LA_county_motor$year, sum)
LA_motor <- data.frame(year=names(LA_county_motor_emissions_total),total_emissions=LA_county_motor_emissions_total,location=rep("Los Angeles County",length(LA_county_motor_emissions_total)))
baltimore_motor <- data.frame(year=names(baltimore_motor_emissions_total), total_emissions=baltimore_motor_emissions_total, location=rep("Baltimore City",length(baltimore_motor_emissions_total)))
motor_LA_baltimore <- rbind(LA_motor, baltimore_motor)
g <- ggplot(motor_LA_baltimore, aes(year,total_emissions))
g <- g + geom_bar(stat="identity") + facet_grid(.~location) + xlab("Year") + ylab("Total Emissions (in Tons)") + ggtitle("Total PM 2.5 emissions at various years")
print(g)
dev.off()
